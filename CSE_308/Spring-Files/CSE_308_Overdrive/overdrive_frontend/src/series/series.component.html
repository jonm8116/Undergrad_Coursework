<main-nav></main-nav>
<div *ngIf='currentSeries.thumbnail != null' class='new_serise_wrapper' style='z-index:-1;' [ngStyle]="{'background': 'linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2)), url(' + currentSeries.thumbnail + ') no-repeat center center / cover'}">
  <div class='row'>
    <div class='small-12 columns'>
      <div class='row'>
        <div class='small-12 columns' style='text-align:center; padding:10px; border-radius:4px;'>
          <p style='font-size:18px'> {{ currentSeries.genre }} </p>
          <p style='font-size:40px; position:relative; top:-20px;'> {{ currentSeries.comicSeriesName }} </p>
          <p style='font-size:24px; position:relative; top:-45px' onclick='window.location.href="/profile.html"'> {{ currentSeries.author }}</p>
          <div *ngIf='currentSeries.followed == null'>
            <button (click)="sendFollowRequest(currentSeries);" style='position:relative;  font-size:17px; top:-55px' class='small button radius success'>+ Subscribe</button>
          </div>
          <div *ngIf='currentSeries.followed != null'>
            <button (click)="sendFollowRequest(currentSeries);" style=' background-color: blue; position:relative;  font-size:17px; top:-55px' class='small button radius success'>Following</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<div *ngIf='currentSeries.thumbnail == null' class='new_serise_wrapper' style='z-index:-1;'>
  <div class='row'>
    <div class='small-12 columns'>
      <div class='row'>
        <div class='small-12 columns' style='text-align:center; padding:10px; border-radius:4px;'>
          <p style='font-size:18px'> {{ currentSeries.genre }} </p>
          <p style='font-size:40px; position:relative; top:-20px;'> {{ currentSeries.comicSeriesName }} </p>
          <p style='font-size:24px; position:relative; top:-45px' onclick='window.location.href="/profile.html"'> {{ currentSeries.author }}</p>
          <div *ngIf='currentSeries.followed == false'>
            <button (click)="sendFollowRequest(currentSeries);" style='position:relative;  font-size:17px; top:-55px' class='small button radius success'>+ Subscribe</button>
          </div>
          <div *ngIf='currentSeries.followed != true'>
            <button (click)="sendFollowRequest(currentSeries);" style='background-color: blue; position:relative;  font-size:17px; top:-55px' class='small button radius success'>Following</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<div class='chap_row comics' style='z-index:4; border-radius:5px; margin-top:10px; background-color:white; width:80%; margin-left:auto; margin-right:auto; padding:0px;'>
  <div class='row'>
    <br/><h3>Chapters</h3>
    <div class='small-8 columns'>
      <div *ngFor="let chapter of seriesChapters" class='row' >
        <div *ngIf='chapter.published == true' class='small-12 columns' style='height:110px; border-top: 1px solid #f5f5f5;'>
          <div (click)="goToReader(chapter.chapterNumber)" class='row'>


            <div class='small-3 columns'>
              <div class="comic_banner" style='position:relative; left:-20px;' [ngStyle]="{'background': 'url(' + currentSeries.thumbnail + ') no-repeat center center / cover'}">
              </div>

            </div>
            <div class='small-4 columns '>
              <span style='position:relative; top:20px; left:-70px'> {{ chapter.chapterTitle }} </span>
            </div>
            <div class='small-5 columns'>
              <span style='position:relative; font-size:15px; top:20px; left:-60px; color:#c4c4c4;'> {{ formatDate(chapter.created) }} <span style='position:relative;left:20px;'> <i (onclick)='likeChapter()' class='fi-heart'></i> {{chapter.likes}} </span></span>
            </div>
            <div class='small-2 columns'>
              <span style='position:relative; top:0px; left:50px'> {{ chapter.chapterNumber }} </span>
            </div>
          </div>
        </div>
      </div>
      <div *ngIf='seriesChapters.length == 0'>
        <div class='alert-box secondary' style='position:relative; font-size:18px; left:-15px'>
          Series currently has not published any chapters. Check back soon!
        </div>
      </div>

    </div>
    <!-- --------------------------- -->
    <div class='small-4 columns' style='padding-left:50px; border-left:2px solid #f5f5f5;'>
      <div id='rate_wrapepr'>
        <h3>Rating</h3>
        <span id='star_1' (click)='rateStar($event,1)' class="fa fa-star"></span>
        <span id='star_2' (click)='rateStar($event, 2)' class="fa fa-star"></span>
        <span id='star_3' (click)='rateStar($event, 3)' class="fa fa-star"></span>
        <span id='star_4' (click)='rateStar($event, 4)' class="fa fa-star"></span>
        <span id='star_5' (click)='rateStar($event, 5)' class="fa fa-star"></span>
        &nbsp; {{ getFormattedScore(currentSeries.score)}}
      </div>

      <br/>
      <h3>About</h3>
      {{currentSeries.description}}
      <br/> <br/>
      <li *ngIf='seriesChapters.length > 0' (click)='goToReader(1)' class='small button expand radius black'>First Chapter</li>
    </div>
  </div>
</div>
